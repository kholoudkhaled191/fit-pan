<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Subscribe | Keep it Healthy</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<script src="https://www.paypal.com/sdk/js?client-id=YOUR_SANDBOX_CLIENT_ID&currency=USD"></script>
<style>
/* ======================== Reset & Base ======================== */
* { box-sizing: border-box; margin:0; padding:0; }
body { font-family: Arial, sans-serif; min-height:100vh; display:flex; flex-direction:column; color:#333;
  background: url('https://images.unsplash.com/photo-1593079831268-3381b0db4a77?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80') no-repeat center center fixed;
  background-size: cover;
}
a { text-decoration:none; color:inherit; }

/* ======================== Header ======================== */
header { background-color: #4CAF50; color:white; padding:15px 30px; display:flex; justify-content:space-between; align-items:center; }
header h1 { font-size:1.8rem; }
nav a { margin:0 10px; font-size:1rem; color:white; transition:0.3s; }
nav a:hover { text-decoration: underline; }
nav .auth-icons { margin-left:20px; }

/* ======================== Subscription Form ======================== */
.subscription-section { flex:1; display:flex; justify-content:center; align-items:center; padding:20px; }
.subscription-form-container { background: rgba(255,255,255,0.97); padding:40px; width:90%; max-width:550px;
  border-radius:20px; box-shadow:0 10px 25px rgba(0,0,0,0.2); text-align:center; transition: transform 0.3s ease; }
.subscription-form-container:hover { transform: translateY(-5px); }
.subscription-form-container h2 { color:#4CAF50; font-size:1.8rem; margin-bottom:25px; font-weight:700; }

.subscription-form { display:grid; gap:12px; }
.subscription-form label { display:flex; flex-direction:column; text-align:left; font-weight:600; font-size:0.95rem; }
.subscription-form input, .subscription-form select { width:100%; padding:10px; margin-top:6px; border:1px solid #ccc; border-radius:8px;
  font-size:0.95rem; transition:border-color 0.3s, box-shadow 0.3s; }
.subscription-form input:focus, .subscription-form select:focus { outline:none; border-color:#4CAF50; box-shadow:0 0 6px rgba(76,175,80,0.3); }

/* ======================== Payment Methods ======================== */
.payment-methods { display:flex; flex-wrap:wrap; gap:12px; justify-content:center; margin-top:15px; }
.payment-methods input { display:none; }
.payment-methods label { flex:1; min-width:100px; padding:12px; text-align:center; background:#f0f0f0; border-radius:12px;
  border:2px solid transparent; cursor:pointer; display:flex; align-items:center; justify-content:center; gap:8px;
  font-weight:600; font-size:1rem; transition:all 0.3s ease; }
.payment-methods label i { font-size:1.2rem; }
.payment-methods input:checked + label { border-color:#FF9800; background:#fff3e0; transform:scale(1.05); box-shadow:0 4px 10px rgba(0,0,0,0.1); }
.payment-methods label:hover { background:#fff3e0; }

/* ======================== Button ======================== */
.btn { background-color:#FF9800; color:white; padding:12px 30px; border:none; border-radius:25px; font-size:1rem;
  font-weight:600; cursor:pointer; margin-top:20px; transition:all 0.3s ease; }
.btn:hover { background-color:#e68900; transform:translateY(-2px); box-shadow:0 4px 10px rgba(0,0,0,0.2); }

/* ======================== PayPal & Confirmation ======================== */
#paypal-button-container { margin-top:20px; display:none; }
.confirmation { margin-top:20px; padding:15px; background:#e8f5e9; border-radius:12px; text-align:center; color:#2e7d32; font-size:1rem; display:none;
  animation: fadeIn 0.5s ease-in; }
@keyframes fadeIn { from{opacity:0; transform:translateY(10px);} to{opacity:1; transform:translateY(0);} }

/* ======================== Footer ======================== */
footer { background-color: rgba(33,150,243,0.9); color:white; text-align:center; padding:12px; font-size:0.9rem; font-weight:500; }

/* ======================== Responsive ======================== */
@media (max-width:600px){
  header { flex-direction:column; gap:10px; padding:12px 20px; }
  nav { flex-direction:column; align-items:center; gap:8px; }
  nav .auth-icons { margin-left:0; }
  nav a { margin:5px 0; font-size:0.9rem; }
  .subscription-form-container { padding:25px; width:95%; }
  .subscription-form-container h2 { font-size:1.6rem; }
}
</style>
</head>
<body>

<header>
<h1>Keep it Healthy</h1>
<nav>
<a href="#home">Home</a>
<a href="#features">Features</a>
<a href="#contact">Contact</a>
<span class="auth-icons">
  <a href="#register"><i class="fas fa-user-plus"></i> Register</a>
  <a href="#login"><i class="fas fa-sign-in-alt"></i> Login</a>
</span>
</nav>
</header>

<section class="subscription-section">
<div class="subscription-form-container">
<h2>Subscribe to Meal Delivery</h2>
<form class="subscription-form" id="subscribeForm">
  <label>Full Name <input type="text" id="fullname" required></label>
  <label>Age <input type="number" id="age" min="1" required></label>
  <label>Weight (kg) <input type="number" id="weight" min="1" step="0.1" required></label>
  <label>Email <input type="email" id="email" required></label>
  <label>Phone Number <input type="tel" id="phone" required></label>
  <label>Work Address <input type="text" id="workAddress" placeholder="Enter full address" required></label>
  <label>Work Start Time <input type="time" id="workStart" required></label>
  <label>Work End Time <input type="time" id="workEnd" required></label>
  <label>Breakfast Time <input type="time" id="breakfastTime" required></label>
  <label>Dinner Time <input type="time" id="dinnerTime" required></label>
  <label>Breakfast Delivery
    <select id="breakfastLocation" required>
      <option value="" disabled selected>Select location</option>
      <option value="home">Home</option>
      <option value="work">Work</option>
    </select>
  </label>
  <label>Dinner Delivery
    <select id="dinnerLocation" required>
      <option value="" disabled selected>Select location</option>
      <option value="home">Home</option>
      <option value="work">Work</option>
    </select>
  </label>

  <div class="payment-methods">
    <input type="radio" id="card" name="payment" value="card" checked>
    <label for="card"><i class="fas fa-credit-card"></i> Card</label>
    <input type="radio" id="fawry" name="payment" value="fawry">
    <label for="fawry"><i class="fas fa-money-bill"></i> Fawry</label>
    <input type="radio" id="paypal" name="payment" value="paypal">
    <label for="paypal"><i class="fab fa-paypal"></i> PayPal</label>
  </div>

  <button type="button" class="btn" onclick="handlePayment()">Subscribe</button>
</form>

<div id="paypal-button-container"></div>
<div class="confirmation" id="confirmation"><p id="confirmation-message"></p></div>
</div>
</section>

<footer>
<p>&copy; 2025 Keep it Healthy. All Rights Reserved.</p>
</footer>

<script>
function handlePayment() {
  const fullname = document.getElementById('fullname').value;
  const age = document.getElementById('age').value;
  const weight = document.getElementById('weight').value;
  const email = document.getElementById('email').value;
  const phone = document.getElementById('phone').value;
  const workAddress = document.getElementById('workAddress').value;
  const workStart = document.getElementById('workStart').value;
  const workEnd = document.getElementById('workEnd').value;
  const breakfastTime = document.getElementById('breakfastTime').value;
  const dinnerTime = document.getElementById('dinnerTime').value;
  const breakfastLocation = document.getElementById('breakfastLocation').value;
  const dinnerLocation = document.getElementById('dinnerLocation').value;
  const payment = document.querySelector('input[name="payment"]:checked').value;

  if (!fullname || !age || !weight || !email || !phone || !workAddress || !workStart || !workEnd || !breakfastTime || !dinnerTime || !breakfastLocation || !dinnerLocation) {
    alert("Please fill all required fields"); return;
  }

  const userData={fullname, age, weight, email, phone, workAddress, workStart, workEnd, breakfastTime, dinnerTime, breakfastLocation, dinnerLocation, payment};
  localStorage.setItem('userData', JSON.stringify(userData));

  if(payment==='paypal'){
    document.getElementById('subscribeForm').style.display='none';
    document.getElementById('paypal-button-container').style.display='block';
  }else{
    document.getElementById('subscribeForm').style.display='none';
    document.getElementById('confirmation').style.display='block';
    document.getElementById('confirmation-message').innerHTML='Thank you! Redirecting to dashboard...';
    localStorage.setItem('subscribed','true');
    setTimeout(()=>{window.location.href='dashboard.html';},2000);
  }
}

// PayPal Buttons
paypal.Buttons({
  createOrder: function(data, actions) {
    return actions.order.create({ purchase_units:[{ amount:{ value:'10.00' } }] });
  },
  onApprove:function(data,actions){
    return actions.order.capture().then(function(details){
      localStorage.setItem('subscribed','true');
      document.getElementById('paypal-button-container').style.display='none';
      document.getElementById('confirmation').style.display='block';
      document.getElementById('confirmation-message').innerHTML=`Thank you, ${details.payer.name.given_name}! Redirecting to dashboard...`;
      setTimeout(()=>{window.location.href='dashboard.html';},2000);
    });
  }
}).render('#paypal-button-container');
</script>

</body>
</html>
